# p-value로 A/B 테스트 결과 판단하기 📊

## 1. p-value란 무엇인가?

p-value는 "관찰된 결과가 우연히 발생했을 확률"을 의미합니다. 쉽게 말해, "이 차이가 그냥 운이 좋아서(또는 나빠서) 생긴 것일 확률"입니다.

- **p < 0.05**: 통계적으로 유의미함 (95% 확신)
- **p < 0.01**: 매우 유의미함 (99% 확신)
- **p < 0.001**: 극도로 유의미함 (99.9% 확신)

## 2. 상황별 적합한 통계 검정 방법

### 2-1. 두 그룹 평균 비교
- **t-test** 사용
  - 독립표본 t-test: 서로 다른 두 그룹 비교 (A/B 테스트)
  - 대응표본 t-test: 같은 그룹의 전/후 비교
  - 예: 새 디자인의 페이지 체류시간(초) vs 기존 디자인의 페이지 체류시간(초)
  - 사례: 새 디자인 평균 체류시간 120초, 기존 디자인 105초 → p=0.03 → 유의미한 차이

### 2-2. 두 비율 비교
- **카이제곱 검정(Chi-squared test)** 사용
  - 예: 버튼 색상 A vs 버튼 색상 B의 클릭률 비교
  - 사례: 빨간 버튼 클릭률 4.2%, 파란 버튼 클릭률 3.1% → p=0.04 → 유의미한 차이
  - 주의: 각 셀의 기대 빈도가 5 이상일 때 적합

- **Fisher's Exact Test** 사용
  - 표본 크기가 작을 때 (각 셀의 기대 빈도가 5 미만일 때) 사용
  - 예: 소규모 테스트에서 전환율 비교
  - 사례: 20명 중 A안은 8명 전환, B안은 2명 전환 → p=0.028 → 유의미한 차이

- **Proportion Test** 사용
  - 두 비율의 차이를 검정할 때 사용
  - 예: 이메일 A의 오픈율 vs 이메일 B의 오픈율
  - 사례: A 이메일 오픈율 25%, B 이메일 오픈율 22% → p=0.047 → 유의미한 차이

### 2-3. 세 그룹 이상 평균 비교
- **ANOVA(분산분석)** 사용
  - 예: 3가지 다른 랜딩 페이지의 체류시간 비교
  - 사례: 페이지 A(평균 100초), B(평균 120초), C(평균 95초) → p=0.02 → 어딘가 유의미한 차이 있음
  - 주의: ANOVA는 "어딘가 차이가 있다"만 알려줌, 어느 그룹 간 차이인지는 사후 검정(post-hoc) 필요

### 2-4. 비모수적 방법 (정규분포 가정이 어려울 때)
- **Mann-Whitney U test** (두 그룹 비교)
  - 예: 두 사용자 그룹의 앱 사용 빈도 비교 (극단값이 많을 때)
  - 사례: 새 UI 사용자 vs 기존 UI 사용자의 일일 앱 실행 횟수

- **Wilcoxon 부호 순위 검정** (대응 표본)
  - 예: 기능 업데이트 전/후 사용자의 만족도 점수 비교
  - 사례: 업데이트 전 만족도 vs 업데이트 후 만족도

- **Kruskal-Wallis 검정** (세 그룹 이상 비교)
  - 예: 세 가지 다른 가격 정책에 따른 구매 금액 비교
  - 사례: 할인 정책 A, B, C에 따른 평균 구매액 비교

## 3. p-value 해석 시 주의사항

### 3-1. 표본 크기의 영향
- **큰 표본**: 작은 차이도 통계적으로 유의미하게 나올 수 있음
  - 예: 0.1%의 작은 차이도 100만 명 데이터에서는 p < 0.05로 나올 수 있음
- **작은 표본**: 큰 차이도 통계적으로 유의미하지 않게 나올 수 있음
  - 예: 10%의 큰 차이도 20명 데이터에서는 p > 0.05로 나올 수 있음

### 3-2. 다중 검정 문제
- 여러 지표를 동시에 테스트할 때 우연히 유의미한 결과가 나올 확률이 증가
- **해결책**: Bonferroni 교정 (p-value 기준을 검정 횟수로 나눔)
  - 예: 10개 지표 테스트 시 p < 0.05/10 = 0.005를 유의미 기준으로 사용

### 3-3. 실용적 유의성 vs 통계적 유의성
- p < 0.05라도 실제 비즈니스 영향이 미미할 수 있음
- 항상 효과 크기(Cohen's d, Cohen's h 등)와 함께 평가해야 함

## 4. 실제 A/B 테스트 분석 예시

### 예시 1: 버튼 색상 테스트
- 데이터: 빨간 버튼(5,000명 중 250명 클릭) vs 파란 버튼(5,000명 중 200명 클릭)
- 분석: 카이제곱 검정 → p = 0.018
- 해석: p < 0.05이므로 버튼 색상에 따른 클릭률 차이는 통계적으로 유의미함

### 예시 2: 페이지 로딩 속도 개선
- 데이터: 기존 페이지(평균 3.2초) vs 개선 페이지(평균 2.8초)
- 분석: t-test → p = 0.062
- 해석: p > 0.05이므로 로딩 속도 개선 효과는 통계적으로 유의미하지 않음

## 5. 결론

p-value는 A/B 테스트 결과 해석의 중요한 도구이지만, 단독으로 사용하면 안 됩니다. 효과 크기와 신뢰구간을 함께 고려하여 종합적으로 판단해야 합니다.

- p-value: "이 차이가 우연인가?"
- 효과 크기: "이 차이가 얼마나 큰가?"
- 신뢰구간: "실제 효과는 어느 범위에 있을까?"